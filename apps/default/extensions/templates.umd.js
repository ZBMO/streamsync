(function(e,h){typeof exports=="object"&&typeof module<"u"?module.exports=h(require("vue"),require("../injectionKeys")):typeof define=="function"&&define.amd?define(["vue","../injectionKeys"],h):(e=typeof globalThis<"u"?globalThis:e||self,e.WriterCustomComponentTemplates=h(e.vue,e.injectionKeys))})(this,function(e,h){"use strict";var r=(t=>(t.Text="Text",t.KeyValue="Key-Value",t.Color="Color",t.Shadow="Shadow",t.Number="Number",t.Object="Object",t.IdKey="Identifying Key",t.Width="Width",t.HAlign="Align (H)",t.VAlign="Align (V)",t.Padding="Padding",t))(r||{}),y=(t=>(t.General="General",t.Style="Style",t))(y||{}),$=(t=>(t.Text="Text",t.Textarea="Textarea",t))($||{});const N={name:"Accent",type:r.Color,category:y.Style,applyStyleVariable:!0},v={name:"Primary text",type:r.Color,category:y.Style,applyStyleVariable:!0},U={name:"Secondary text",type:r.Color,category:y.Style,applyStyleVariable:!0};r.Color,y.Style;const D={name:"Container background",type:r.Color,category:y.Style,applyStyleVariable:!0},J={name:"Container shadow",type:r.Shadow,category:y.Style,applyStyleVariable:!0},V={name:"Separator",type:r.Color,category:y.Style,applyStyleVariable:!0},A={name:"Button",type:r.Color,category:y.Style,applyStyleVariable:!0},H={name:"Button text",type:r.Color,category:y.Style,applyStyleVariable:!0},O={name:"Button shadow",type:r.Shadow,category:y.Style,applyStyleVariable:!0},E={name:"Custom CSS classes",type:r.Text,category:y.Style,desc:"CSS classes, separated by spaces. You can define classes in custom stylesheets."};r.Width,y.Style;const q={name:"Content alignment (H)",type:r.HAlign,default:"unset",category:y.Style};r.VAlign,y.Style;const Y={name:"Padding",type:r.Padding,default:"0",category:y.Style},T=t=>(e.pushScopeId("data-v-c4a195cd"),t=t(),e.popScopeId(),t),G=T(()=>e.createElementVNode("div",{class:"triangle"},null,-1)),R={class:"message"},K={class:"text"},Q=[T(()=>e.createElementVNode("i",{class:"material-symbols-outlined"}," keep ",-1))],X=[T(()=>e.createElementVNode("i",{class:"material-symbols-outlined"}," flag ",-1))],Z={writer:{name:"Bubble Message (Advanced)",description:"Shows a message in the shape of a speech bubble.",category:"Content",fields:{messageId:{name:"Message id",desc:"Unique id to identify the message when generating events.",init:"a1",type:r.Text},text:{name:"Text",desc:"The message to be displayed.",default:"(Empty message)",type:r.Text,control:$.Textarea},orientation:{name:"Orientation",category:y.Style,type:r.Text,options:{left:"Pointing left",right:"Pointing right"}},bubbleColor:{name:"Bubble",default:"#CFEFF3",category:y.Style,type:r.Color,applyStyleVariable:!0},primaryTextColor:v,separatorColor:V,containerBackgroundColor:D,cssClasses:E},events:{"pin-message":{desc:"Emitted when the pin button is clicked.",stub:`
def handle_pin(state, payload):
	state["pinned_message_id"] = payload`},"flag-message":{desc:"Emitted when the flag button is clicked.",stub:`
def handle_flag(state, payload):
	state["flagged_message_id"] = payload`}},previewField:"text"}},M=e.defineComponent({...Z,__name:"BubbleMessageAdvanced",setup(t){const a=e.ref(null),l=e.inject(h.evaluatedFields),c=e.computed(()=>l.messageId.value);function m(){const _=c.value,b=new CustomEvent("flag-message",{detail:{payload:_}});a.value.dispatchEvent(b)}function f(){const _=c.value,b=new CustomEvent("pin-message",{detail:{payload:_}});a.value.dispatchEvent(b)}return(_,b)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"rootEl",ref:a,class:e.normalizeClass(["BubbleMessage",{rightOriented:e.unref(l).orientation.value=="right"}])},[G,e.createElementVNode("div",R,[e.createElementVNode("div",K,e.toDisplayString(e.unref(l).text.value),1),e.createElementVNode("div",{class:"actions"},[e.createElementVNode("div",{class:"action",onClick:f},Q),e.createElementVNode("div",{class:"action",onClick:m},X)])])],2))}}),P=t=>{t.writer&&(t.writer.docs=`\r
This documentation will show in the collapsible mini-docs feature embedded in Builder.\r
You _can_ use **markdown**.\r`)},I=(t,a)=>{const l=t.__vccOpts||t;for(const[c,m]of a)l[c]=m;return l};typeof P=="function"&&P(M);const ee=I(M,[["__scopeId","data-v-c4a195cd"]]),te=t=>(e.pushScopeId("data-v-8b3b1a5a"),t=t(),e.popScopeId(),t),ne={class:"BubbleMessage"},oe=te(()=>e.createElementVNode("div",{class:"triangle"},null,-1)),ae={class:"message"},se={writer:{name:"Bubble Message",description:"Shows a message in the shape of a speech bubble.",category:"Content",fields:{text:{name:"Text",type:r.Text}},previewField:"text"}},le=e.defineComponent({...se,__name:"BubbleMessage",setup(t){const a=e.inject(h.evaluatedFields);return(l,c)=>(e.openBlock(),e.createElementBlock("div",ne,[oe,e.createElementVNode("div",ae,e.toDisplayString(e.unref(a).text.value),1)]))}}),re=I(le,[["__scopeId","data-v-8b3b1a5a"]]),ce={};function ie(t,a){return e.openBlock(),e.createElementBlock("button",null,[e.renderSlot(t.$slots,"default",{},void 0,!0)])}const de=I(ce,[["render",ie],["__scopeId","data-v-96f12980"]]);function ue(t){const a={ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey};return new CustomEvent("wf-click",{detail:{payload:a}})}const pe={key:0,class:"material-symbols-outlined"},fe={writer:{name:"Button",description:"A standalone button component that can be linked to a click event handler.",category:"Other",events:{"wf-click":{desc:"Capture single clicks.",stub:`
def handle_button_click(state):

	# Increment counter when the button is clicked

	state["counter"] += 1`.trim()}},fields:{text:{name:"Text",init:"Button Text",type:r.Text},customId:{name:"CustomId",init:"Button CustomId",type:r.Text},isDisabled:{name:"Disabled",default:"no",type:r.Text,options:{yes:"Yes",no:"No"},desc:"Disables all event handlers."},buttonColor:A,buttonTextColor:H,icon:{name:"Icon",type:r.Text,desc:'A Material Symbols id, such as "arrow_forward".',category:y.Style},buttonShadow:O,separatorColor:V,cssClasses:E},previewField:"text"}},j=e.defineComponent({...fe,__name:"CustomButton",setup(t){const a=e.ref(null),l=e.inject(h.evaluatedFields),c=e.inject(h.isDisabled);e.watch(l.isDisabled,f=>{c.value=f=="yes"},{immediate:!0});function m(f){if(!a.value)return;const _=ue(f);a.value.$el.dispatchEvent(_)}return(f,_)=>(e.openBlock(),e.createBlock(de,{ref_key:"rootInstance",ref:a,class:"CoreButton","aria-disabled":e.unref(c),onClick:m},{default:e.withCtx(()=>[e.unref(l).icon.value?(e.openBlock(),e.createElementBlock("i",pe,e.toDisplayString(e.unref(l).icon.value),1)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(e.unref(l).text.value),1)]),_:1},8,["aria-disabled"]))}}),W=t=>{t.writer&&(t.writer.docs="\r\n    Writer Framework uses Material Symbols to display icons. To include an icon, check https://fonts.google.com/icons, find the icon's id (such as `arrow_forward`) and it to your _Button_.\r")};typeof W=="function"&&W(j);const me=I(j,[["__scopeId","data-v-b9b549d4"]]),ge=I(e.defineComponent({__name:"BaseContainer",props:{contentHAlign:{},contentVAlign:{},contentPadding:{},isHorizontal:{type:Boolean}},setup(t){const a=t,l=e.computed(()=>{const c={padding:a.contentPadding};return a.isHorizontal?{...c,justifyContent:a.contentHAlign,alignItems:a.contentVAlign}:{...c,alignItems:a.contentHAlign,justifyContent:a.contentVAlign}});return(c,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["BaseContainer",{horizontal:a.isHorizontal}]),style:e.normalizeStyle(l.value),"data-writer-container":""},[e.renderSlot(c.$slots,"default",{},void 0,!0)],6))}}),[["__scopeId","data-v-c26ebaf3"]]),ye={class:"CoreSection"},_e={key:0},he={writer:{name:"Section",description:"A container component that divides the layout into sections, with an optional title.",category:"Layout",allowedChildrenTypes:["*"],fields:{title:{name:"Title",init:"Custom Section Title",desc:"Leave blank to hide.",type:r.Text},accentColor:N,primaryTextColor:v,secondaryTextColor:U,containerBackgroundColor:D,containerShadow:J,separatorColor:V,buttonColor:A,buttonTextColor:H,buttonShadow:O,contentPadding:{...Y,default:"16px"},contentHAlign:q,cssClasses:E},previewField:"title"}},be=e.defineComponent({...he,__name:"CustomSection",setup(t){const a=e.inject(h.evaluatedFields),l=e.inject(h.core),c=e.inject(h.instancePath);function m(n){const o=n.target.closest("[data-writer-id]");if(_(o)||(n.stopPropagation(),b(o)))return;const s=f(o);console.log("customId: "+s);const u=new CustomEvent("click",{detail:{payload:{id:s}}});l.forwardEvent(u,c,!0)}function f(n){var o=l.getComponentById(n.dataset.writerId),s=o.content.customId,u=n.dataset.writerId;return s!=""?s:u}function _(n){var o=l.getComponentById(n.dataset.writerId);return o.type=="tab"}function b(n){return n.nodeName!="BUTTON"}function C(n,o){const s=n.target.nodeName;return console.log("this element type: "+s),!o.includes(s)}function i(n){const o=n.target.closest("[data-writer-id]");if(n.stopPropagation(),C(n,["INPUT"]))return;const s=f(o),u=n.target.value,p=new CustomEvent("input",{detail:{payload:{id:s,value:u}}});l.forwardEvent(p,c,!0)}function d(n){if(console.log("captureChange event"),n.stopPropagation(),C(n,["SELECT","INPUT"]))return;const o=n.target.closest("[data-writer-id]"),s=f(o),u=n.target.value,p=new CustomEvent("change",{detail:{payload:{id:s,value:u}}});l.forwardEvent(p,c,!0)}return(n,o)=>(e.openBlock(),e.createElementBlock("section",ye,[e.unref(a).title.value?(e.openBlock(),e.createElementBlock("h3",_e,e.toDisplayString(e.unref(a).title.value),1)):e.createCommentVNode("",!0),e.createVNode(ge,{onClickCapture:m,onInputCapture:i,onChangeCapture:d,"content-h-align":e.unref(a).contentHAlign.value,"content-padding":e.unref(a).contentPadding.value},{default:e.withCtx(()=>[e.renderSlot(n.$slots,"default",{},void 0,!0)]),_:3},8,["content-h-align","content-padding"])]))}}),Ce=I(be,[["__scopeId","data-v-a99be2ab"]]);function Se(t){const a=/[\\]?@{([^}]*)}/g;function l(i,d){var u;let n=[],o="",s=0;for(let p=0;p<i.length;p++){const g=i.charAt(p);g=="."?s==0?(n.push(o),o=""):o+=g:g=="["?(s==0?(n.push(o),o=""):o+=g,s++):g=="]"?(s--,s==0?o=(u=c(o,d))==null?void 0:u.toString():o+=g):o+=g}return o&&n.push(o),n}function c(i,d){let o=d?m(d):void 0,s=t.getUserState();const u=l(i,d);for(let p=0;p<u.length;p++)o=o==null?void 0:o[u[p]],s=s==null?void 0:s[u[p]];return o??s}function m(i){var n,o;const d={};for(let s=0;s<i.length-1;s++){const u=i[s],{componentId:p}=u,{type:g}=t.getComponentById(p);if(g!=="repeater"||s+1>=i.length)continue;const S=i.slice(0,s+1),B=i.slice(0,s+2),{instanceNumber:w}=B.at(-1),x=b(S,"repeaterObject");if(!x)continue;const k=Object.entries(x),Ae=b(S,"keyVariable"),He=b(S,"valueVariable");d[Ae]=(n=k[w])==null?void 0:n[0],d[He]=(o=k[w])==null?void 0:o[1]}return d}function f(i,d){return i==null?"":i.replace(a,(o,s)=>{if(o.charAt(0)=="\\")return o.substring(1);const u=s.trim();if(!u)return"";const p=c(u,d);return typeof p>"u"?"":typeof p=="object"?JSON.stringify(p):p.toString()})}function _(i){const{componentId:d}=i.at(-1),n=t.getComponentById(d);if(!n)return;const o={},{fields:s}=t.getComponentDefinition(n.type);if(s)return Object.keys(s).forEach(u=>{o[u]=e.computed(()=>b(i,u))}),o}function b(i,d){var w;const{componentId:n}=i.at(-1),o=t.getComponentById(n);if(!o)return;const{fields:s}=t.getComponentDefinition(o.type),u=(w=o.content)==null?void 0:w[d],p=s[d].default,g=f(u,i),S=s[d].type,B=typeof g>"u"||g===null||g==="";if(S==r.Object||S==r.KeyValue){if(!g)return JSON.parse(p??null);if(typeof g!="string")return g;let x;try{x=JSON.parse(g)}catch{return JSON.parse(p)??null}return x}else if(S==r.Number){const x=p===null?null:parseFloat(p);if(B)return x??null;const k=parseFloat(g);return typeof k===void 0||Number.isNaN(k)?x??null:k}else return S==r.IdKey?u:B?p??"":g}function C(i,d){const n=t.getComponentById(i);return n?typeof n.visible>"u"||n.visible===!0?!0:n.visible===!1?!1:!!c(n.visible,d):void 0}return{getEvaluatedFields:_,isComponentVisible:C,evaluateExpression:c}}function z(t,a,l){const c=e.ref(),m=e.ref(!1),f=e.ref(null),_=a.at(-1).componentId,b=e.computed(()=>t.getComponentById(_)),{evaluateExpression:C}=Se(t);function i(){var o;const n=t.getComponentById(_);if((o=n==null?void 0:n.binding)!=null&&o.stateRef)return C(n.binding.stateRef,a)}function d(n,o,s){var B,w;c.value=n;const u=(B=b.value.handlers)==null?void 0:B[o],p=((w=b.value.binding)==null?void 0:w.eventType)==o;if(!u&&!p)return;if(m.value){f.value={eventValue:n,emitEventType:o};return}m.value=!0;const g=()=>{m.value=!1,f.value&&(d(f.value.eventValue,f.value.emitEventType),f.value=null),s==null||s()},S=new CustomEvent(o,{detail:{payload:n,callback:g}});l.value instanceof HTMLElement?l.value.dispatchEvent(S):l.value.$el.dispatchEvent(S)}return e.watch(()=>i(),n=>{m.value||(c.value=n)},{immediate:!0}),e.watch(c,n=>{typeof n>"u"&&(c.value="")},{immediate:!0}),{formValue:c,handleInput:d}}const Ie={key:0},F=I(e.defineComponent({__name:"BaseInputWrapper",props:{label:{},isHorizontal:{type:Boolean}},setup(t){const a=t;return(l,c)=>(e.openBlock(),e.createElementBlock("div",{ref:"rootEl",class:e.normalizeClass(["BaseInputWrapper",{horizontal:l.isHorizontal}])},[a.label?(e.openBlock(),e.createElementBlock("label",Ie,e.toDisplayString(a.label),1)):e.createCommentVNode("",!0),e.renderSlot(l.$slots,"default",{},void 0,!0)],2))}}),[["__scopeId","data-v-01f6be93"]]),we=I(e.defineComponent({__name:"WdsDropdownInput",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const a=e.useModel(t,"modelValue");return(l,c)=>e.withDirectives((e.openBlock(),e.createElementBlock("select",{"onUpdate:modelValue":c[0]||(c[0]=m=>a.value=m)},[e.renderSlot(l.$slots,"default",{},void 0,!0)],512)),[[e.vModelSelect,a.value]])}}),[["__scopeId","data-v-303ac61c"]]),xe=["value"],Be="A user input component that allows users to select a single value from a list of options using a dropdown menu.",ke={a:"Option A",b:"Option B"},Ee={writer:{name:"Dropdown Input",description:Be,category:"Input",fields:{label:{name:"Label",init:"Input Label",type:r.Text},customId:{name:"CustomId",init:"Dropdown CustomId",type:r.Text},options:{name:"Options",desc:"Key-value object with options. Must be a JSON string or a state reference to a dictionary.",type:r.KeyValue,default:JSON.stringify(ke,null,2)},cssClasses:E},events:{"wf-option-change":{desc:"Sent when the selected option changes.",stub:`
def onchange_handler(state, payload):

	# Set the state variable "selected" to the selected option

	state["selected"] = payload`.trim(),bindable:!0}}}},Ve=e.defineComponent({...Ee,__name:"CustomDropDownInput",setup(t){const a=e.inject(h.evaluatedFields),l=e.ref(null),c=e.inject(h.core),m=e.inject(h.instancePath),{formValue:f,handleInput:_}=z(c,m,l);return(b,C)=>(e.openBlock(),e.createBlock(F,{ref_key:"rootInstance",ref:l,label:e.unref(a).label.value,class:"CoreDropdownInput"},{default:e.withCtx(()=>[e.createVNode(we,{modelValue:e.unref(f),"onUpdate:modelValue":C[0]||(C[0]=i=>e.isRef(f)?f.value=i:null),onInput:C[1]||(C[1]=i=>e.unref(_)(i.target.value,"wf-option-change"))},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a).options.value,(i,d)=>(e.openBlock(),e.createElementBlock("option",{key:d,value:d},e.toDisplayString(i),9,xe))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]))}}),Te=I(Ve,[["__scopeId","data-v-91f4acbe"]]),$e=["type","value","placeholder"],Ne="A user input component that allows users to enter single-line text values.",L=`
def onchange_handler(state, payload):

	# Set the state variable "new_val" to the new value

	state["new_val"] = payload`,ve={writer:{name:"Text Input",description:Ne,category:"Input",fields:{label:{name:"Label",init:"Input Label",type:r.Text},placeholder:{name:"Placeholder",type:r.Text},customId:{name:"CustomId",init:"Input CustomId",type:r.Text},passwordMode:{name:"Password mode",default:"no",type:r.Text,options:{yes:"Yes",no:"No"},category:y.Style},accentColor:N,cssClasses:E},events:{"wf-change":{desc:"Capture changes as they happen.",stub:L,bindable:!0},"wf-change-finish":{desc:"Capture changes once this control has lost focus.",stub:L}}}},De=e.defineComponent({...ve,__name:"CustomTextInput",setup(t){const a=e.inject(h.evaluatedFields),l=e.ref(null),c=e.inject(h.core),m=e.inject(h.instancePath),{formValue:f,handleInput:_}=z(c,m,l);return(b,C)=>(e.openBlock(),e.createBlock(F,{ref_key:"rootInstance",ref:l,label:e.unref(a).label.value,class:"CoreTextInput"},{default:e.withCtx(()=>[e.createElementVNode("input",{type:e.unref(a).passwordMode.value=="yes"?"password":"text",value:e.unref(f),placeholder:e.unref(a).placeholder.value,"aria-autocomplete":"none",onInput:C[0]||(C[0]=i=>e.unref(_)(i.target.value,"wf-change")),onChange:C[1]||(C[1]=i=>e.unref(_)(i.target.value,"wf-change-finish"))},null,40,$e)]),_:1},8,["label"]))}});return{bubblemessageadvanced:ee,bubblemessage:re,custombutton:me,customsection:Ce,customdropdown:Te,customtextinput:I(De,[["__scopeId","data-v-fa10caf3"]])}});
